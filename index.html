<!DOCTYPE html>
<html>
<head>
  <title>ESP Sensor Dashboard</title>
</head>
<body>
  <h1>ESP Sensor Value:</h1>
  <div id="sensorValue">Loading...</div>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBBAvRnaZxvYqy3tj7rJ--EYojSH8wQHMY",
      authDomain: "heal-9faa0.firebaseapp.com",
      projectId: "heal-9faa0",
      storageBucket: "heal-9faa0.firebasestorage.app",
      messagingSenderId: "265082548829",
      appId: "1:265082548829:web:3aededa684fa98a17ed3b4",
      measurementId: "G-P7TNMCCYJ0",
      databaseURL: "https://heal-9faa0-default-rtdb.firebaseio.com"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const valueDiv = document.getElementById('sensorValue');
    const valueRef = ref(db, '/sensors/device1/value');

    onValue(valueRef, (snapshot) => {
      valueDiv.innerText = snapshot.exists() ? snapshot.val() : "No data";
    });
  </script>
</body>
</html>
